---
const path = Astro.url.pathname;

const nav = [
  { href: "/", label: "About" },
  { href: "/resume", label: "Resume" },
  { href: "/blog", label: "Blog" },
  { href: "/readings", label: "Readings" },
  { href: "/rss.xml", label: "RSS" },
];

const isActive = (href: string) =>
  href === "/"
    ? path === "/"
    : path === href || path.startsWith(href + "/");
---

<header class="site-header">
  <a class="brand" href="/">
    Andrew Pollack-Gray
  </a>

  <nav class="site-nav" aria-label="Primary">
    {nav.map((item) => (
      <a href={item.href} aria-current={isActive(item.href) ? "page" : undefined}>
        {item.label}
      </a>
    ))}
  </nav>
</header>
